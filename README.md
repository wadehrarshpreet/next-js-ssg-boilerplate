
# NextJS SSG Boilerplate

Starter kit for NextJS Static Site generator Boilerplate with firebase deployment setup

### Featuring
- [ReactJS](https://reactjs.org/)
- [NextJS](https://nextjs.org/)
- [Typescript](https://www.typescriptlang.org/)
- [Tailwind](https://tailwindcss.com/)
- [Jest](https://jestjs.io/)
- [React Testing Library](https://testing-library.com/docs/react-testing-library/intro/)
- [Eslint](https://eslint.org/)


## Pre-requisite

- Install [NodeJS 16.10+](https://nodejs.org/en/download/)
- Install Yarn 1.2x
    ```sh
    npm install --global yarn
    ```
 
## Getting Started 


- Clone the Repo
    ```bash
    git clone https://github.com/wadehrarshpreet/next-js-ssg-boilerplate.git <project-name>
    ```

- go to project directoy and install dependencies
    ```bash
    cd <project-name> && yarn # npm install
    rm -rf .git # remove .git
    git init # setup new git repo
    ```

- Start dev server
    ```bash
    yarn dev # npm run dev
    ```

Navigate to [localhost:3000](http://localhost:3000). You should see your app running. 

## Building and running in production mode

To create an optimised version of the app:

For SPA build
```bash
yarn build # npm run build
```

For SSG build
```bash
yarn static # npm run static
```

You can run the newly built app with `npm run start`. 

## Deployment

### With [firebase](https://firebase.google.com/)

Install `firebase-cli` if you haven't already:

```sh
curl -sL https://firebase.tools | bash
```

Login to your account
```sh
firebase login
```

Then, from within your project folder:
```sh
firebase init hosting # set public folder to deploy
yarn deploy # npm run deploy
```  

> yarn deploy will generate a static build and update your firebase.json rewrites with dynamic pages generated by nextjs

### CI/CD setup for Firebase deployment

Add `FIREBASE_TOKEN` as secret to your github repo

To get Firebase Token, just run following command in your project
```sh
firebase login:ci
```

[.github/workflows/firebase-deploy.yml](.github/workflows/firebase-deploy.yml)
